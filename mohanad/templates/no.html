<!DOCTYPE html>
<html>
<head>
 <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="mystyle.css">


<meta charset="utf-8">
 <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    



    <link href="https://cdn.datatables.net/1.10.16/css/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />


<meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

   

    <title>All Profile</title>


                 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css" />

    <script src="https://nightly.datatables.net/js/jquery.dataTables.js"></script>
    
    
    <script src="https://nightly.datatables.net/js/dataTables.bootstrap4.min.js "></script>
    
<style>
.fixed-top {
  position: fixed;
  top: 0;
  
}
navbar .nav-item:not(:last-child) {
  margin-right: 35px;
}

.dropdown-toggle::after {
   transition: transform 0.15s linear; 
}

.show.dropdown .dropdown-toggle::after {
  transform: translateY(3px);
}

.dropdown-menu {
  margin-top: 0;
}
.vl {
  border-left: 2px solid tomato; 
  height: 30px;
}

</style>

</head>

  

<body class="" style="background-color:#FAF0E6; ">
<div style="margin-bottom: 100px;">
 <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top" style="font-size: 18px; ">
    <div class="container">
        <ul class="nav navbar-nav">
          <form class="form-inline  ">
            <li class="nav-item" >

           <a href="{% url 'home' %}" style="font-size:18px"class="btn btn-link">Dashboard</a>
            </li>
           <div class="vl"></div>
        </ul>
      </form>
    </ul>
         <ul class="nav navbar-nav">
          <form class="form-inline  ">
            <li class="nav-item" >
  <li class="nav-item dropdown">

        <a class="nav-link" href="#" id="navbarDropdown2" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Customer
          </a>
        
        <div class="dropdown-menu" aria-labelledby="navbarDropdown2">
          {% if perms.crm.add_customer %} 
 <a href="/newcustomer"style="color: #FF6347;font-size: 18px;" class="dropdown-item"> add new customer</a>
{%endif%}
</form>
{% if perms.crm.add_customer %} 
   <form action="{% url 'all' %}" method="GET" value="">
   <input  type="hidden" name="username" value="" placeholder=" "/>
<input type="submit" style="color: #FF6347;font-size: 18px;" class="dropdown-item" name="submit"  value="All customer" />
 {%endif%}
</form>          

      </li>
  

 </li>
           
        </ul>
                   <div class="vl"></div>

         <ul class="nav navbar-nav ">
          <form class="form-inline  ">
            <li class="nav-item" >
          <li class="nav-item dropdown">
        <a class="nav-link " href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          User
        </a>
        
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          {% if perms.auth.add_user %} 


<a href="{% url 'signup' %}" style="color: #FF6347;font-size: 18px;" class="dropdown-item">Add new user</a>
</form>
<form action="{% url 'allusers' %}" method="GET" value="">
   
 
<input type="submit" style="color: #FF6347;font-size: 18px;" class="dropdown-item"name="submit"  value="All users" />
 
</form>

{%endif%}
</form>          

      </li>
  
            </li>
           
        </ul>
</li>

        {% load mathfilters %}
        
      
        <ul class="navbar-nav ml-auto">
            <li class="nav-item dropdown">
              <a class="nav-link " href="#" id="navbarDropdown2" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
               <h4 style="color: #FF6347;font-size: 20px;"> {{ user.username }}</h4>
              </a>
              <div class="dropdown-menu " aria-labelledby="navbarDropdown2">
</form>
</form>
<form action="{% url 'myopenticket' %}" method="GET" value="{{request.GET.user}}" class="form-group position-relative">
<div class="input-group bootstrap-touchspin" id="customer_search_wrapper">
<input name="user" value="{{user}}" type="hidden" class="form-control search-input-field" data-bts-postfix="" name="search">
<div class="dropdown-divider"></div>
<button class="dropdown-item"style="color: #FF6347;font-size: 18px;" type="submit">
My open ticket
</button>
</div>
</form>

<div class="dropdown-divider"></div>
                <a class="dropdown-item" href="{% url 'logout' %}" style="color: #FF6347;font-size: 18px;"><i class="fa fa-power-off" style="font-size:15px ;color:red"></i> Log out</a>

              </div>
            </li>
          </ul>
          
          </form>
      </div>
    </div>
  </nav>

     <script type="text/javascript">
    const $dropdown = $(".dropdown");
const $dropdownToggle = $(".dropdown-toggle");
const $dropdownMenu = $(".dropdown-menu");
const showClass = "show";

$(window).on("load resize", function() {
  if (this.matchMedia("(min-width: 768px)").matches) {
    $dropdown.hover(
      function() {
        const $this = $(this);
        $this.addClass(showClass);
        $this.find($dropdownToggle).attr("aria-expanded", "true");
        $this.find($dropdownMenu).addClass(showClass);
      },
      function() {
        const $this = $(this);
        $this.removeClass(showClass);
        $this.find($dropdownToggle).attr("aria-expanded", "false");
        $this.find($dropdownMenu).removeClass(showClass);
      }
    );
  } else {
    $dropdown.off("mouseenter mouseleave");
  }
});
  </script>
     
  </nav>
<div class="card  " style="
  background-color: $card-bg;
  border-radius: 50;
  border: 50;
  margin-top: 150px;
box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);
  transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);
  
  }
}  ">
  <li class="card-body d-inline" style="text-align: center;">
<div class="text-center">  
    
</div>
 <div class="text-left">
<label>number of customer is: {{ results|length }}</label>
</div>
  <div class="card-body"></div>


<div class="container bg">
    <table class="table table-striped table-bordered  dt-responsive nowrap text-center" style="width:10 " id="myTable">
    <thead>
    <tr><th>username</th><th>name</th><th>identity</th><th>mobile</th>
      <th>address</th><th>status</th><th>Email</th><th>created on</th>
      <th>last update</th></tr>
    </thead>

    <tbody>
          {%for r in results%}
                   

      <tr>
        <th><form action="{% url 'customer' %}" method="GET" value="{{request.GET.username}}">
<input class="btn" type="hidden" name="username" value="{{r.username}}"/>
<input type="submit" class="btn-link text-dark" name="submit" value="{{r.username}}"/>
</form></th>
<td>{{r.Arabicname}} </td><td>{{r.identity}}</td><td>{{r.mobile}}</td><td>{{r.address}}</td><td>{{r.status}}</td><td>{{r.email}}</td><td>{{r.create}}</td><td>{{r.update}}</td>
      </tr>
   {%endfor%}
      

    </tbody>
    </table>
</div>
</div>

 <script type="">
    $(document).ready( function () {
  var table = $('#myTable').DataTable({
    "paging":   true,
        "ordering": true,
        "info":     true,
        "pagingType": "numbers",
          "pageLength": 50,



  });
var table = $('#example').DataTable();
 
$('#all').on( 'click', function () {
    table.page.len( -1 ).draw();
} );
 
$('#_10').on( 'click', function () {
    table.page.len( 10 ).draw();
} );
} );

     $('#pagination-demo').twbsPagination({
        totalPages: 35,
        visiblePages: 7,
        onPageClick: function (event, page) {
            $('#page-content').text('Page ' + page);
        }
    });
</script>
</body>


